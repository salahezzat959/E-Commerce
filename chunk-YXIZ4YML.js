import{a as z,b as H}from"./chunk-37QY3PIO.js";import{a as f}from"./chunk-G2ZWCJUP.js";import{a as Y}from"./chunk-2PZTNYCO.js";import{a as W,c as N,g as U,l as G}from"./chunk-S7NLLRCM.js";import{a as V,m as Z}from"./chunk-AJ6U6MDO.js";import"./chunk-XTCYTLKK.js";import{g as L,r as R}from"./chunk-WFJGIRJF.js";import{$a as k,Ab as E,Bb as T,Ib as a,Jb as m,Kb as D,Lb as F,Mb as O,Nb as j,Oa as w,Ra as n,Sb as B,Wb as p,Xa as _,Xb as A,Y as c,Yb as g,ea as x,fa as b,ga as y,ha as h,kb as u,la as C,pb as P,qb as M,rb as t,sb as i,ta as S,tb as l,wb as I}from"./chunk-VEIXIB2E.js";import"./chunk-EQDQRRRY.js";var q=o=>["/details",o],J=(o,r)=>r.id;function K(o,r){if(o&1){let e=I();t(0,"div",9)(1,"div",10)(2,"div",11),l(3,"img",12),i(),t(4,"div",13)(5,"h4",14),a(6),p(7,"uppercase"),i(),t(8,"h5",15),a(9),p(10,"termtext"),i(),t(11,"div",16)(12,"span",17),a(13),i(),t(14,"div",18),l(15,"i",19),t(16,"span",20),a(17),i()()()()(),t(18,"button",21),E("click",function(){let v=x(e).$implicit,d=T();return b(d.addToCart(v.id))}),a(19," Add to Cart "),i()()}if(o&2){let e=r.$implicit;n(),u("routerLink",B(12,q,e.id)),n(2),u("src",e.imageCover,w)("alt",e.title),n(3),m(A(7,7,e.category.name)),n(3),m(g(10,9,e.title,2)),n(4),D("",e.price," EGP"),n(4),m(e.ratingsAverage)}}var $=class o{constructor(r){this.productsService=r}cartService=c(V);toastrService=c(Z);destroyRef=c(C);term="";products=S([]);ngOnInit(){this.getProductsData()}getProductsData(){this.productsService.getAllProducts().pipe(f(this.destroyRef)).subscribe({next:r=>this.products.set(r.data),error:r=>console.log(r)})}addToCart(r){this.cartService.addProductToCart(r).pipe(f(this.destroyRef)).subscribe({next:e=>{e.status==="success"&&(this.toastrService.success(e.message,"FreshCart"),this.cartService.cartCount.set(e.numOfCartItems))},error:e=>console.log(e)})}static \u0275fac=function(e){return new(e||o)(_(Y))};static \u0275cmp=k({type:o,selectors:[["app-products"]],decls:13,vars:4,consts:[[1,"bg-gray-50","dark:bg-gray-900","py-10","px-4"],[1,"text-4xl","font-bold","text-center","text-green-700","mb-8"],[1,"max-w-xl","mx-auto","mb-10"],[1,"relative"],[1,"absolute","inset-y-0","left-0","flex","items-center","pl-3","pointer-events-none"],["fill","none","viewBox","0 0 20 20",1,"w-5","h-5","text-gray-500","dark:text-gray-400"],["stroke","currentColor","stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","m19 19-4-4m0-7A7 7 0 1 1 1 8a7 7 0 0 1 14 0Z"],["type","search","id","product-search","placeholder","Search products, brands, categories...",1,"block","w-full","pl-10","pr-4","py-3","text-base","text-gray-900","border","border-green-300","rounded-lg","bg-white","shadow-sm","focus:ring-green-500","focus:border-green-500","dark:bg-gray-800","dark:text-white","dark:border-gray-600","dark:focus:ring-green-500","dark:focus:border-green-500","transition",3,"ngModelChange","ngModel"],[1,"grid","gap-8","sm:grid-cols-2","md:grid-cols-3","lg:grid-cols-4"],[1,"bg-white","dark:bg-gray-800","border","border-green-300","rounded-xl","shadow-md","hover:shadow-lg","transition-all","overflow-hidden","flex","flex-col","justify-between"],[1,"cursor-pointer",3,"routerLink"],[1,"h-60","bg-gray-100","dark:bg-gray-700","flex","items-center","justify-center"],[1,"max-h-full","max-w-full","object-contain","transition-transform","duration-300","hover:scale-105",3,"src","alt"],[1,"p-4"],[1,"text-xs","text-green-500","font-semibold","mb-1"],[1,"text-base","font-medium","text-gray-800","dark:text-white","mb-2"],[1,"flex","justify-between","items-center","text-sm"],[1,"text-green-700","font-semibold"],[1,"flex","items-center","gap-1","text-yellow-500"],[1,"fas","fa-star"],[1,"text-gray-600","dark:text-gray-300"],[1,"m-4","bg-green-600","hover:bg-green-700","text-white","text-sm","font-medium","py-2","rounded-lg","transition",3,"click"]],template:function(e,s){e&1&&(t(0,"section",0)(1,"h2",1),a(2,"\u{1F31F} Best Products"),i(),t(3,"div",2)(4,"div",3)(5,"div",4),y(),t(6,"svg",5),l(7,"path",6),i()(),h(),t(8,"input",7),j("ngModelChange",function(d){return O(s.term,d)||(s.term=d),d}),i()()(),t(9,"div",8),P(10,K,20,14,"div",9,J),p(12,"search"),i()()),e&2&&(n(8),F("ngModel",s.term),n(2),M(g(12,1,s.products().slice(0,40),s.term)))},dependencies:[R,L,z,H,G,W,N,U],styles:[".card[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{transform:translateY(100%);opacity:0;transition:all .75s}.card[_ngcontent-%COMP%]:hover   button[_ngcontent-%COMP%]{opacity:1;transform:translateY(-35%)}"]})};export{$ as ProductsComponent};
