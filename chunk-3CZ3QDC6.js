import{a as P}from"./chunk-R6EMO2V3.js";import{a as G,b as u,c as M,d as V,h as H,i as D,j as A,k as B,m as I}from"./chunk-S7NLLRCM.js";import"./chunk-XTCYTLKK.js";import{q as N}from"./chunk-WFJGIRJF.js";import{$a as R,Ab as q,Bb as c,Ib as o,Jb as y,Ob as b,Pb as x,Qb as _,Ra as l,Y as E,ea as T,eb as s,fa as L,ga as g,ha as p,kb as k,ob as m,rb as e,sb as t,tb as d,wb as F}from"./chunk-VEIXIB2E.js";import"./chunk-EQDQRRRY.js";function j(i,r){i&1&&(e(0,"li"),o(1,"Name is required"),t())}function $(i,r){i&1&&(e(0,"li"),o(1,"Name min length: 3"),t())}function z(i,r){i&1&&(e(0,"li"),o(1,"Name max length: 20"),t())}function U(i,r){if(i&1&&(e(0,"div",6),g(),e(1,"svg",19),d(2,"path",20),t(),p(),e(3,"span",21),o(4,"Danger"),t(),e(5,"div")(6,"ul",22),s(7,j,2,0,"li")(8,$,2,0,"li")(9,z,2,0,"li"),t()()()),i&2){c();let n=_(5);l(7),m(n!=null&&n.getError("required")?7:n!=null&&n.getError("minlength")?8:n!=null&&n.getError("maxlength")?9:-1)}}function J(i,r){i&1&&(e(0,"li"),o(1,"email is required"),t())}function K(i,r){i&1&&(e(0,"li"),o(1,"Enter valid Email"),t())}function O(i,r){if(i&1&&(e(0,"div",6),g(),e(1,"svg",19),d(2,"path",20),t(),p(),e(3,"span",21),o(4,"Danger"),t(),e(5,"div")(6,"ul",22),s(7,J,2,0,"li")(8,K,2,0,"li"),t()()()),i&2){c();let n=_(11);l(7),m(n!=null&&n.getError("required")?7:n!=null&&n.getError("email")?8:-1)}}function Q(i,r){i&1&&(e(0,"li"),o(1,"password is required"),t())}function W(i,r){i&1&&(e(0,"li"),o(1,"Enter valid password"),t())}function X(i,r){if(i&1&&(e(0,"div",6),g(),e(1,"svg",19),d(2,"path",20),t(),p(),e(3,"span",21),o(4,"Danger"),t(),e(5,"div")(6,"ul",22),s(7,Q,2,0,"li")(8,W,2,0,"li"),t()()()),i&2){c();let n=_(17);l(7),m(n!=null&&n.getError("required")?7:n!=null&&n.getError("pattern")?8:-1)}}function Y(i,r){i&1&&(e(0,"div",6),g(),e(1,"svg",19),d(2,"path",20),t(),p(),e(3,"span",21),o(4,"Danger"),t(),e(5,"div")(6,"ul",22)(7,"li"),o(8,"rePassword confirmation is incorrect"),t()()()())}function ee(i,r){i&1&&(e(0,"div",6),g(),e(1,"svg",19),d(2,"path",20),t(),p(),e(3,"span",21),o(4,"Danger"),t(),e(5,"div")(6,"ul",22)(7,"li"),o(8,"rePassword is required"),t()()()())}function te(i,r){i&1&&(e(0,"li"),o(1,"phone is required"),t())}function ie(i,r){i&1&&(e(0,"li"),o(1,"Enter valid phone"),t())}function ne(i,r){if(i&1&&(e(0,"div",6),g(),e(1,"svg",19),d(2,"path",20),t(),p(),e(3,"span",21),o(4,"Danger"),t(),e(5,"div")(6,"ul",22),s(7,te,2,0,"li")(8,ie,2,0,"li"),t()()()),i&2){c();let n=_(29);l(7),m(n!=null&&n.getError("required")?7:n!=null&&n.getError("pattern")?8:-1)}}function re(i,r){i&1&&(e(0,"span"),d(1,"i",23),t())}function oe(i,r){if(i&1&&(e(0,"div",17),g(),e(1,"svg",24),d(2,"path",20),t(),p(),e(3,"span",21),o(4,"Info"),t(),e(5,"div")(6,"span",25),o(7),t()()()),i&2){let n=c();l(7),y(n.msgErr)}}function le(i,r){if(i&1&&(e(0,"div",18),g(),e(1,"svg",24),d(2,"path",20),t(),p(),e(3,"span",21),o(4,"Info"),t(),e(5,"div")(6,"span",25),o(7),t()()()),i&2){let n=c();l(7),y(n.msgSuc)}}var Z=class i{authService=E(P);route=E(N);formBulider=E(B);isLoading=!1;msgErr="";msgSuc="";registerForm=this.formBulider.group({name:[null,[u.required,u.minLength(3),u.maxLength(15)]],email:[null,[u.required,u.email]],password:[null,[u.required,u.pattern(/^[A-Z]\w{7,}$/)]],rePassword:[null,[u.required]],phone:[null,[u.required,u.pattern(/^01[0125][0-9]{8}$/)]]},{validators:this.confirmPassword});submitForm(){this.registerForm.valid?(this.isLoading=!0,this.authService.sendRegisterForm(this.registerForm.value).subscribe({next:r=>{console.log(r),r.message==="success"&&(setTimeout(()=>{this.route.navigate(["/login"])},500),this.msgSuc=r.message),this.isLoading=!1},error:r=>{console.log(r),this.msgErr=r.error.message,this.isLoading=!1}})):this.registerForm.markAllAsTouched()}confirmPassword(r){let n=r.get("password")?.value,a=r.get("rePassword")?.value;return n===a?null:{mismatch:!0}}static \u0275fac=function(n){return new(n||i)};static \u0275cmp=R({type:i,selectors:[["app-register"]],decls:40,vars:15,consts:[[1,"mx-auto","w-[60%]","bg-gray-50","rounded","border-1","shadow","p-5"],[1,"capitalize","text-2xl","text-green-600","font-bold","pb-3","text-center"],[3,"ngSubmit","formGroup"],[1,"mb-4"],["for","name",1,"block","mb-2","text-sm","font-medium","text-gray-900","dark:text-white"],["formControlName","name","type","text","id","name",1,"bg-white","border","border-gray-300","text-gray-900","text-sm","rounded-lg","focus:ring-blue-500","focus:border-blue-500","block","w-full","p-2.5","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-blue-500","dark:focus:border-blue-500"],["role","alert",1,"flex","p-4","mb-4","text-sm","text-red-800","rounded-lg","bg-red-50","dark:bg-gray-800","dark:text-red-400"],["for","email",1,"block","mb-2","text-sm","font-medium","text-gray-900","dark:text-white"],["formControlName","email","type","email","id","email",1,"bg-white","border","border-gray-300","text-gray-900","text-sm","rounded-lg","focus:ring-blue-500","focus:border-blue-500","block","w-full","p-2.5","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-blue-500","dark:focus:border-blue-500"],["for","password",1,"block","mb-2","text-sm","font-medium","text-gray-900","dark:text-white"],["formControlName","password","type","password","id","password",1,"bg-white","border","border-gray-300","text-gray-900","text-sm","rounded-lg","focus:ring-blue-500","focus:border-blue-500","block","w-full","p-2.5","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-blue-500","dark:focus:border-blue-500"],["for","rePassword",1,"block","mb-2","text-sm","font-medium","text-gray-900","dark:text-white"],["formControlName","rePassword","type","password","id","rePassword",1,"bg-white","border","border-gray-300","text-gray-900","text-sm","rounded-lg","focus:ring-blue-500","focus:border-blue-500","block","w-full","p-2.5","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-blue-500","dark:focus:border-blue-500"],["for","phone",1,"block","mb-2","text-sm","font-medium","text-gray-900","dark:text-white"],["formControlName","phone","type","tel","id","phone",1,"bg-white","border","border-gray-300","text-gray-900","text-sm","rounded-lg","focus:ring-blue-500","focus:border-blue-500","block","w-full","p-2.5","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-blue-500","dark:focus:border-blue-500"],[1,"flex","justify-between"],["type","submit",1,"btn-main",3,"disabled"],["role","alert",1,"my-4","flex","items-center","p-4","mb-4","text-sm","text-red-800","border","border-red-300","rounded-lg","bg-red-50","dark:bg-gray-800","dark:text-red-400","dark:border-red-800"],["role","alert",1,"my-4","flex","items-center","p-4","mb-4","text-sm","text-green-800","border","border-green-300","rounded-lg","bg-green-50","dark:bg-gray-800","dark:text-green-400","dark:border-green-800"],["aria-hidden","true","xmlns","http://www.w3.org/2000/svg","fill","currentColor","viewBox","0 0 20 20",1,"shrink-0","inline","w-4","h-4","me-3","mt-[2px]"],["d","M10 .5a9.5 9.5 0 1 0 9.5 9.5A9.51 9.51 0 0 0 10 .5ZM9.5 4a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3ZM12 15H8a1 1 0 0 1 0-2h1v-3H8a1 1 0 0 1 0-2h2a1 1 0 0 1 1 1v4h1a1 1 0 0 1 0 2Z"],[1,"sr-only"],[1,"mt-1.5","list-disc","list-inside"],[1,"fas","fa-spin","fa-spinner"],["aria-hidden","true","xmlns","http://www.w3.org/2000/svg","fill","currentColor","viewBox","0 0 20 20",1,"shrink-0","inline","w-4","h-4","me-3"],[1,"font-medium"]],template:function(n,a){if(n&1){let v=F();e(0,"section",0)(1,"h1",1),o(2,"register now"),t(),e(3,"form",2),q("ngSubmit",function(){return T(v),L(a.submitForm())}),e(4,"div",3),b(5),e(6,"label",4),o(7,"name:"),t(),d(8,"input",5),s(9,U,10,1,"div",6),t(),e(10,"div",3),b(11),e(12,"label",7),o(13,"email:"),t(),d(14,"input",8),s(15,O,9,1,"div",6),t(),e(16,"div",3),b(17),e(18,"label",9),o(19,"password:"),t(),d(20,"input",10),s(21,X,9,1,"div",6),t(),e(22,"div",3)(23,"label",11),o(24,"rePassword:"),t(),d(25,"input",12),s(26,Y,9,0,"div",6)(27,ee,9,0,"div",6),t(),e(28,"div",3),b(29),e(30,"label",13),o(31,"phone:"),t(),d(32,"input",14),s(33,ne,9,1,"div",6),t(),e(34,"div",15)(35,"button",16),o(36,"SignUp "),s(37,re,2,0,"span"),t()(),s(38,oe,8,1,"div",17)(39,le,8,1,"div",18),t()()}if(n&2){let v,f;l(3),k("formGroup",a.registerForm),l(2);let C=x(a.registerForm.get("name"));l(4),m(C!=null&&C.errors&&(C!=null&&C.touched)?9:-1),l(2);let h=x(a.registerForm.get("email"));l(4),m(h!=null&&h.errors&&(h!=null&&h.touched)?15:-1),l(2);let S=x(a.registerForm.get("password"));l(4),m(S!=null&&S.errors&&(S!=null&&S.touched)?21:-1),l(5),m(a.registerForm.getError("mismatch")&&((v=a.registerForm.get("rePassword"))!=null&&v.dirty)?26:-1),l(),m((f=a.registerForm.get("rePassword"))!=null&&f.getError("required")&&((f=a.registerForm.get("rePassword"))!=null&&f.touched)?27:-1),l(2);let w=x(a.registerForm.get("phone"));l(4),m(w!=null&&w.errors&&(w!=null&&w.touched)?33:-1),l(2),k("disabled",a.isLoading),l(2),m(a.isLoading?37:-1),l(),m(a.msgErr&&!a.msgSuc?38:-1),l(),m(a.msgSuc?39:-1)}},dependencies:[I,H,G,M,V,D,A],encapsulation:2})};export{Z as RegisterComponent};
