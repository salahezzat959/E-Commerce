import{c as N}from"./chunk-6GBPQ4MV.js";import{a as G}from"./chunk-QBHR2TKZ.js";import{a as V,b as c,c as H,d as D,h as A,i as Z,j,k as $,m as z}from"./chunk-SLOV3VHQ.js";import"./chunk-Y5FLU7RQ.js";import{q as M}from"./chunk-T5ZE22VF.js";import{$a as B,Bb as q,Cb as b,Kb as l,Lb as v,Mb as u,Qb as C,Ra as n,Rb as h,Sb as S,Y as T,Yb as d,Zb as m,ea as F,eb as g,fa as I,ga as x,ha as f,kb as L,ob as p,sb as e,tb as i,ub as s,xb as P}from"./chunk-F43Q7SKA.js";import"./chunk-EQDQRRRY.js";function K(t,a){t&1&&(e(0,"li"),l(1),d(2,"translate"),i()),t&2&&(n(),u(" ",m(2,1,"register.errors.nameRequired"),""))}function O(t,a){t&1&&(e(0,"li"),l(1,"Name min length: 3"),i())}function Q(t,a){t&1&&(e(0,"li"),l(1,"Name max length: 20"),i())}function U(t,a){if(t&1&&(e(0,"div",6),x(),e(1,"svg",19),s(2,"path",20),i(),f(),e(3,"span",21),l(4,"Danger"),i(),e(5,"div")(6,"ul",22),g(7,K,3,3,"li")(8,O,2,0,"li")(9,Q,2,0,"li"),i()()()),t&2){b();let r=S(6);n(7),p(r!=null&&r.getError("required")?7:r!=null&&r.getError("minlength")?8:r!=null&&r.getError("maxlength")?9:-1)}}function W(t,a){t&1&&(e(0,"li"),l(1),d(2,"translate"),i()),t&2&&(n(),u(" ",m(2,1,"register.errors.emailRequired"),""))}function X(t,a){t&1&&(e(0,"li"),l(1),d(2,"translate"),i()),t&2&&(n(),u(" ",m(2,1,"register.errors.emailInvalid"),""))}function Y(t,a){if(t&1&&(e(0,"div",6),x(),e(1,"svg",19),s(2,"path",20),i(),f(),e(3,"span",21),l(4,"Danger"),i(),e(5,"div")(6,"ul",22),g(7,W,3,3,"li")(8,X,3,3,"li"),i()()()),t&2){b();let r=S(13);n(7),p(r!=null&&r.getError("required")?7:r!=null&&r.getError("email")?8:-1)}}function ee(t,a){t&1&&(e(0,"li"),l(1),d(2,"translate"),i()),t&2&&(n(),u(" ",m(2,1,"register.errors.passwordRequired"),""))}function te(t,a){t&1&&(e(0,"li"),l(1),d(2,"translate"),i()),t&2&&(n(),v(m(2,1,"register.errors.passwordInvalid")))}function ie(t,a){if(t&1&&(e(0,"div",6),x(),e(1,"svg",19),s(2,"path",20),i(),f(),e(3,"span",21),l(4,"Danger"),i(),e(5,"div")(6,"ul",22),g(7,ee,3,3,"li")(8,te,3,3,"li"),i()()()),t&2){b();let r=S(20);n(7),p(r!=null&&r.getError("required")?7:r!=null&&r.getError("pattern")?8:-1)}}function ne(t,a){t&1&&(e(0,"div",6),x(),e(1,"svg",19),s(2,"path",20),i(),f(),e(3,"span",21),l(4,"Danger"),i(),e(5,"div")(6,"ul",22)(7,"li"),l(8),d(9,"translate"),i()()()()),t&2&&(n(8),v(m(9,1,"register.errors.rePasswordMismatch")))}function re(t,a){t&1&&(e(0,"div",6),x(),e(1,"svg",19),s(2,"path",20),i(),f(),e(3,"span",21),l(4,"Danger"),i(),e(5,"div")(6,"ul",22)(7,"li"),l(8),d(9,"translate"),i()()()()),t&2&&(n(8),u(" ",m(9,1,"register.errors.rePasswordRequired"),""))}function ae(t,a){t&1&&(e(0,"li"),l(1),d(2,"translate"),i()),t&2&&(n(),v(m(2,1,"register.errors.phoneRequired")))}function le(t,a){t&1&&(e(0,"li"),l(1),d(2,"translate"),i()),t&2&&(n(),v(m(2,1,"register.errors.phoneInvalid")))}function oe(t,a){if(t&1&&(e(0,"div",6),x(),e(1,"svg",19),s(2,"path",20),i(),f(),e(3,"span",21),l(4,"Danger"),i(),e(5,"div")(6,"ul",22),g(7,ae,3,3,"li")(8,le,3,3,"li"),i()()()),t&2){b();let r=S(34);n(7),p(r!=null&&r.getError("required")?7:r!=null&&r.getError("pattern")?8:-1)}}function de(t,a){t&1&&(e(0,"span"),s(1,"i",23),i())}function me(t,a){if(t&1&&(e(0,"div",17),x(),e(1,"svg",24),s(2,"path",20),i(),f(),e(3,"span",21),l(4,"Info"),i(),e(5,"div")(6,"span",25),l(7),i()()()),t&2){let r=b();n(7),v(r.msgErr)}}function se(t,a){if(t&1&&(e(0,"div",18),x(),e(1,"svg",24),s(2,"path",20),i(),f(),e(3,"span",21),l(4,"Info"),i(),e(5,"div")(6,"span",25),l(7),i()()()),t&2){let r=b();n(7),v(r.msgSuc)}}var J=class t{authService=T(G);route=T(M);formBulider=T($);isLoading=!1;msgErr="";msgSuc="";registerForm=this.formBulider.group({name:[null,[c.required,c.minLength(3),c.maxLength(15)]],email:[null,[c.required,c.email]],password:[null,[c.required,c.pattern(/^[A-Z]\w{7,}$/)]],rePassword:[null,[c.required]],phone:[null,[c.required,c.pattern(/^01[0125][0-9]{8}$/)]]},{validators:this.confirmPassword});submitForm(){this.registerForm.valid?(this.isLoading=!0,this.authService.sendRegisterForm(this.registerForm.value).subscribe({next:a=>{console.log(a),a.message==="success"&&(setTimeout(()=>{this.route.navigate(["/login"])},500),this.msgSuc=a.message),this.isLoading=!1},error:a=>{console.log(a),this.msgErr=a.error.message,this.isLoading=!1}})):this.registerForm.markAllAsTouched()}confirmPassword(a){let r=a.get("password")?.value,o=a.get("rePassword")?.value;return r===o?null:{mismatch:!0}}static \u0275fac=function(r){return new(r||t)};static \u0275cmp=B({type:t,selectors:[["app-register"]],decls:47,vars:36,consts:[[1,"mx-auto","w-[60%]","bg-gray-50","rounded","border-1","shadow","p-5"],[1,"capitalize","text-2xl","text-green-600","font-bold","pb-3","text-center"],[3,"ngSubmit","formGroup"],[1,"mb-4"],["for","name",1,"block","mb-2","text-sm","font-medium","text-gray-900","dark:text-white"],["formControlName","name","type","text","id","name",1,"bg-white","border","border-gray-300","text-gray-900","text-sm","rounded-lg","focus:ring-blue-500","focus:border-blue-500","block","w-full","p-2.5","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-blue-500","dark:focus:border-blue-500"],["role","alert",1,"flex","p-4","mb-4","text-sm","text-red-800","rounded-lg","bg-red-50","dark:bg-gray-800","dark:text-red-400"],["for","email",1,"block","mb-2","text-sm","font-medium","text-gray-900","dark:text-white"],["formControlName","email","type","email","id","email",1,"bg-white","border","border-gray-300","text-gray-900","text-sm","rounded-lg","focus:ring-blue-500","focus:border-blue-500","block","w-full","p-2.5","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-blue-500","dark:focus:border-blue-500"],["for","password",1,"block","mb-2","text-sm","font-medium","text-gray-900","dark:text-white"],["formControlName","password","type","password","id","password",1,"bg-white","border","border-gray-300","text-gray-900","text-sm","rounded-lg","focus:ring-blue-500","focus:border-blue-500","block","w-full","p-2.5","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-blue-500","dark:focus:border-blue-500"],["for","rePassword",1,"block","mb-2","text-sm","font-medium","text-gray-900","dark:text-white"],["formControlName","rePassword","type","password","id","rePassword",1,"bg-white","border","border-gray-300","text-gray-900","text-sm","rounded-lg","focus:ring-blue-500","focus:border-blue-500","block","w-full","p-2.5","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-blue-500","dark:focus:border-blue-500"],["for","phone",1,"block","mb-2","text-sm","font-medium","text-gray-900","dark:text-white"],["formControlName","phone","type","tel","id","phone",1,"bg-white","border","border-gray-300","text-gray-900","text-sm","rounded-lg","focus:ring-blue-500","focus:border-blue-500","block","w-full","p-2.5","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-blue-500","dark:focus:border-blue-500"],[1,"flex","justify-between"],["type","submit",1,"btn-main",3,"disabled"],["role","alert",1,"my-4","flex","items-center","p-4","mb-4","text-sm","text-red-800","border","border-red-300","rounded-lg","bg-red-50","dark:bg-gray-800","dark:text-red-400","dark:border-red-800"],["role","alert",1,"my-4","flex","items-center","p-4","mb-4","text-sm","text-green-800","border","border-green-300","rounded-lg","bg-green-50","dark:bg-gray-800","dark:text-green-400","dark:border-green-800"],["aria-hidden","true","xmlns","http://www.w3.org/2000/svg","fill","currentColor","viewBox","0 0 20 20",1,"shrink-0","inline","w-4","h-4","me-3","mt-[2px]"],["d","M10 .5a9.5 9.5 0 1 0 9.5 9.5A9.51 9.51 0 0 0 10 .5ZM9.5 4a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3ZM12 15H8a1 1 0 0 1 0-2h1v-3H8a1 1 0 0 1 0-2h2a1 1 0 0 1 1 1v4h1a1 1 0 0 1 0 2Z"],[1,"sr-only"],[1,"mt-1.5","list-disc","list-inside"],[1,"fas","fa-spin","fa-spinner"],["aria-hidden","true","xmlns","http://www.w3.org/2000/svg","fill","currentColor","viewBox","0 0 20 20",1,"shrink-0","inline","w-4","h-4","me-3"],[1,"font-medium"]],template:function(r,o){if(r&1){let w=P();e(0,"section",0)(1,"h1",1),l(2),d(3,"translate"),i(),e(4,"form",2),q("ngSubmit",function(){return F(w),I(o.submitForm())}),e(5,"div",3),C(6),e(7,"label",4),l(8),d(9,"translate"),i(),s(10,"input",5),g(11,U,10,1,"div",6),i(),e(12,"div",3),C(13),e(14,"label",7),l(15),d(16,"translate"),i(),s(17,"input",8),g(18,Y,9,1,"div",6),i(),e(19,"div",3),C(20),e(21,"label",9),l(22),d(23,"translate"),i(),s(24,"input",10),g(25,ie,9,1,"div",6),i(),e(26,"div",3)(27,"label",11),l(28),d(29,"translate"),i(),s(30,"input",12),g(31,ne,10,3,"div",6)(32,re,10,3,"div",6),i(),e(33,"div",3),C(34),e(35,"label",13),l(36),d(37,"translate"),i(),s(38,"input",14),g(39,oe,9,1,"div",6),i(),e(40,"div",15)(41,"button",16),l(42),d(43,"translate"),g(44,de,2,0,"span"),i()(),g(45,me,8,1,"div",17)(46,se,8,1,"div",18),i()()}if(r&2){let w,_;n(2),u(" ",m(3,18,"register.registerNow"),""),n(2),L("formGroup",o.registerForm),n(2);let E=h(o.registerForm.get("name"));n(2),u(" ",m(9,21,"register.name"),":"),n(3),p(E!=null&&E.errors&&(E!=null&&E.touched)?11:-1),n(2);let k=h(o.registerForm.get("email"));n(2),u(" ",m(16,24,"register.email"),":"),n(3),p(k!=null&&k.errors&&(k!=null&&k.touched)?18:-1),n(2);let y=h(o.registerForm.get("password"));n(2),u(" ",m(23,27,"register.password"),":"),n(3),p(y!=null&&y.errors&&(y!=null&&y.touched)?25:-1),n(3),u(" ",m(29,29,"register.rePassword"),":"),n(3),p(o.registerForm.getError("mismatch")&&((w=o.registerForm.get("rePassword"))!=null&&w.dirty)?31:-1),n(),p((_=o.registerForm.get("rePassword"))!=null&&_.getError("required")&&((_=o.registerForm.get("rePassword"))!=null&&_.touched)?32:-1),n(2);let R=h(o.registerForm.get("phone"));n(2),u(" ",m(37,32,"register.phone"),":"),n(3),p(R!=null&&R.errors&&(R!=null&&R.touched)?39:-1),n(2),L("disabled",o.isLoading),n(),u(" ",m(43,34,"register.signup")," "),n(2),p(o.isLoading?44:-1),n(),p(o.msgErr&&!o.msgSuc?45:-1),n(),p(o.msgSuc?46:-1)}},dependencies:[z,A,V,H,D,Z,j,N],encapsulation:2})};export{J as RegisterComponent};
